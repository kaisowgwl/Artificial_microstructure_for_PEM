# Artificial Microstructures for PEM Cells: Generation and Visualization

## Table of Contents
- [Requirements](#requirements)
- [Installation](#installation)
- [Usage](#usage)
- [File Descriptions](#file-descriptions)
- [Functions](#functions)
  - [process_particle_distribution](#process_particle_distribution)
  - [generate_additive](#generate_additive)
  - [join_phases](#join_phases)
- [Citation](#citation)
- [Authors](#authors)
- [License](#license)

## Requirements
- MATLAB R2021a or later
- Image Processing Toolbox
- 3D Viewer Toolbox (for `viewer3d` and `volshow` functions)

## Installation
1. Clone the repository or download the files.
2. Ensure the necessary toolboxes are installed in your MATLAB environment.

## Usage
1. Set the file paths and parameters at the beginning of the script.
2. Run the script to process the particle distribution, generate the microstructure with additives, and visualize the final structure.
3. The final structure is saved as an 8-bit TIFF file in the specified save folder.

## File Descriptions
- `main_script.m`: Main script to run the simulation and visualization.
- `process_particle_distribution.m`: Function to process the particle distribution.
- `generate_additive.m`: Function to generate the additive phase in the microstructure.
- `join_phases.m`: Function to join different phases in the microstructure.
- `final_structure.tif`: Output file containing the final microstructure saved as an 8-bit TIFF.

## Functions

### process_particle_distribution
```matlab
[inputs, microstructure3D] = process_particle_distribution(csv_filepath, inputs_filepath, voxel_size, savefolder, save_progression, save_verification, maxtime, refresheachs, domain_size, volumefraction_along_3rd_axis, run_number);

Processes the particle distribution based on input parameters. Returns the processed inputs and the initial 3D microstructure.

generate_additive
matlab
Copy code
microstructure_bridge = generate_additive(microstructure_phase, background_id, additive_id, target_volume_fraction, minimum_dist, randomize_level, erosiondilatation_depth);
Generates an additive phase in the microstructure. Returns the modified microstructure with the additive phase.

join_phases
matlab
Copy code
microstructure_jointed = join_phases(microstructure);
Joins different phases in the microstructure. Returns the jointed microstructure.

Citation
This project utilizes the MATBOX Microstructure Analysis Toolbox developed by NREL. Please cite MATBOX in your work as follows:

MATBOX Microstructure Analysis Toolbox. (2021). National Renewable Energy Laboratory. Available at: https://github.com/NREL/MATBOX_Microstructure_analysis_toolbox

Authors
Gabriel Wosiak Leite
Jacob Wrubel
Puvikkarasan Jayapragasam

License
This project is licensed under the ...
